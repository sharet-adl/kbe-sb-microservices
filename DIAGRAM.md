



                         ┌─────────────────────┐
                  ┌─────►│  BEER MS      :8080 ├────┐
                  │      └──(b)────────────┬───┘    │                                    brewing-request        (b)
                  │          │             │        │                                    new-inventory          (b)
                  │          │             └────────┼──►         ┌────┬───────────┬───┐  validate-order         (b)(o)
                  │          │                      │  │         │    │    JMS    │   │  validate-order-result  (b)(o)
      ┌───────┐   │      ┌───┴─────────────────┐    │  │         │    │     :8161 │   │  allocate-order            (o)(i)
      │       │   ├─────►│ ORDER MS      :8081 ├────►──┼────────►│    │    :61616 │   │  allocate-order-result     (o)(i)
      │       │   │      └──(o)────────────┬───┘    │  │         │    │           │   │  allocation-failure        (o)
      │GATEWAY├───┤          │             │        │  │         └────┴───────────┴───┘  deallocate-order          (o)
      │  MS   │   │          │             └────────┼──┤
      │       │   │          │                      │  │         ┌────────────────────┐
      │ :9090 │   │      ┌───┴─────────────────┐    │  │         ├────────────────────┤  BEER                   (b)
      └───────┘   ├─────►│ INVENTORY MS  :8082 ├────┘  ├────────►│       MYSQL        │  BEER_INVENTORY               (i)
                  │      └──(i)────────────┬───┘       │         │       :3306        │  BEER_ORDER                (o)
                  │          │             │           │         ├────────────────────┤  BEER_ORDER_LINE           (o)
                  │          │             └───────────┘         └────────────────────┘  BREWERY                (b)
                  │          │                                                           CUSTOMER               (b)
                  │      ┌───┴─────────────────┐
                  └─────►│ INV FAILOVER MS 8083│
                         └──(f)────────────────┘
                             │
                             │                                ┌──────────────┐
                             │                                │   KIBANA UI  │
                             │                                │    :5601     │
                             │                                └──────┬───────┘
                             │                                       │
                             │                                       │
                             │                                ┌──────▼───────┐
                             │                                ├──────────────┤
                             │             ┌───────────┐      │              │
                             └─────────────┤ FILEBEAT  ├─────►│ELASTIC-SEARCH│
                                           └───────────┘      │    :9200     │
                                                              ├──────────────┤
                                                              └──────────────┘





